<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FullFlux - Last-Minute Event Staffing</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Leaflet CSS for Map View -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <!-- Link to your new external CSS file -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Main Header -->
    <header class="main-header">
        <div class="logo">FullFlux</div>
        <nav id="main-nav" class="main-nav">
            <!-- Nav links will be populated by JS -->
        </nav>
    </header>

    <!-- Main Content Area -->
    <main id="app-root" class="container">
        <!-- App content will be rendered here -->
    </main>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Templates for Dynamic Content -->
    <template id="landing-page-template">
        <div>
            <section class="hero-section">
                <h1>Need Event Staff, Fast?</h1>
                <p>FullFlux instantly connects event organizers with reliable, vetted freelancers for any last-minute need.</p>
                <button id="hero-cta-btn" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1.2rem;">Get Started Now</button>
            </section>

            <div id="auth-container" class="hidden">
                <!-- Login/Register form will be injected here -->
            </div>

            <section class="section">
                <h2 class="section-title">How It Works</h2>
                <div class="how-it-works-grid">
                    <div class="step-card card">
                        <div class="step-number">1</div>
                        <h3>Organizers Post a Job</h3>
                        <p class="text-muted">Quickly detail your needs, set an hourly rate, and escrow the funds securely.</p>
                    </div>
                    <div class="step-card card">
                        <div class="step-number">2</div>
                        <h3>Workers Get Notified</h3>
                        <p class="text-muted">Available freelancers with the right skills in your area are instantly alerted.</p>
                    </div>
                    <div class="step-card card">
                        <div class="step-number">3</div>
                        <h3>Hire the Best Fit</h3>
                        <p class="text-muted">Review profiles, ratings, and portfolios to hire the perfect person for the job in minutes.</p>
                    </div>
                    <div class="step-card card">
                        <div class="step-number">4</div>
                        <h3>Get Paid Instantly</h3>
                        <p class="text-muted">Once the job is marked complete, funds are released to the worker's wallet immediately.</p>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2 class="section-title">Why Choose FullFlux?</h2>
                <div class="features-grid">
                    <div class="feature-card card">
                        <div class="icon">‚ö°Ô∏è</div>
                        <h3>Speed & Urgency</h3>
                        <p class="text-muted">Our platform is built for the last-minute nature of events. Fill positions in hours, not days.</p>
                    </div>
                    <div class="feature-card card">
                        <div class="icon">üõ°Ô∏è</div>
                        <h3>Trust & Security</h3>
                        <p class="text-muted">With our escrow system and dispute resolution, both parties are protected from start to finish.</p>
                    </div>
                    <div class="feature-card card">
                        <div class="icon">‚≠ê</div>
                        <h3>Quality & Reliability</h3>
                        <p class="text-muted">Our rating and Reliability Score system helps you find the best, most professional talent.</p>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2 class="section-title">Frequently Asked Questions</h2>
                <div class="faq-container">
                    <details class="faq-item card">
                        <summary>How does the payment escrow work?</summary>
                        <p class="text-muted">When an organizer posts a job, the total payment is held securely by FullFlux. These funds are only released to the worker after the job is marked as complete by the organizer, ensuring both parties are protected.</p>
                    </details>
                    <details class="faq-item card">
                        <summary>What happens if a worker cancels at the last minute?</summary>
                        <p class="text-muted">We strongly discourage cancellations. A worker who cancels will face a penalty fee deducted from their wallet and a significant hit to their Reliability Score, making them less likely to be hired for future jobs.</p>
                    </details>
                    <details class="faq-item card">
                        <summary>What is the platform commission?</summary>
                        <p class="text-muted">FullFlux charges a 20% commission on the base pay of the job. This fee helps us maintain the platform, provide support, and ensure a secure transaction environment for everyone.</p>
                    </details>
                     <details class="faq-item card">
                        <summary>How are workers vetted?</summary>
                        <p class="text-muted">Workers build their reputation through a Reliability Score, client ratings, and optional document verification (like ID scans or certifications) and background checks. This allows organizers to hire with confidence.</p>
                    </details>
                </div>
            </section>

             <section class="section text-center">
                <h2 class="section-title">Ready to Get Started?</h2>
                <p class="section-subtitle">Whether you're an organizer needing urgent help or a freelancer looking for your next gig, FullFlux is the answer.</p>
                <button id="bottom-cta-btn" class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1.2rem;">Sign Up or Login</button>
            </section>
        </div>
    </template>

    <template id="login-template">
        <div class="card" style="max-width: 450px; margin: 2rem auto;">
            <div class="card-header">
                <h2 id="auth-title" class="card-title">Login</h2>
            </div>
            <form id="auth-form">
                <div id="display-name-group" class="form-group hidden">
                    <label for="displayName">Full Name</label>
                    <input type="text" id="displayName" class="form-control" placeholder="e.g. Jane Doe">
                </div>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" class="form-control" required placeholder="Choose a username">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" class="form-control" required placeholder="Choose a secure password">
                </div>
                <div id="role-group" class="form-group hidden">
                    <label>I am a...</label>
                    <select id="role" class="form-control">
                        <option value="freelancer">Freelancer (Worker)</option>
                        <option value="client">Client (Organizer)</option>
                    </select>
                </div>
                <div id="referral-group" class="form-group hidden">
                    <label for="referralCode">Referral Code (Optional)</label>
                    <input type="text" id="referralCode" class="form-control" placeholder="Enter code from a friend">
                </div>
                <button type="submit" id="auth-submit-btn" class="btn btn-primary btn-block">Login</button>
            </form>
            <p class="text-center" style="margin-top: 1rem;">
                <a href="#" id="auth-toggle-link">Don't have an account? Register</a>
            </p>
        </div>
    </template>

    <template id="job-card-template">
        <div class="card job-card" data-job-id="">
            <div class="card-header">
                <h3 class="card-title job-title"></h3>
                <span class="badge job-category"></span>
            </div>
            <div class="job-description"></div>
            <p><strong>Rate:</strong> ZAR <span class="job-rate"></span> <span class="job-pay-rate"></span></p>
            <p><strong>Dates:</strong> <span class="job-dates"></span></p>
            <p><strong>Duration:</strong> <span class="job-duration"></span> hours</p>
            <p><strong>Location:</strong> <span class="job-location"></span> (<span class="job-distance"></span> km away)</p>
            <p><strong>Positions:</strong> <span class="job-positions"></span></p>
            <p><strong>Status:</strong> <span class="badge job-status"></span></p>
            <div class="job-timer-wrapper">
                <strong>Starts in:</strong> <span class="countdown-timer"></span>
            </div>
            <div class="job-actions" style="margin-top: 1rem; display: flex; gap: 10px; flex-wrap: wrap;">
                <!-- Action buttons will be added here -->
            </div>
        </div>
    </template>

    <template id="history-template">
        <div class="card">
            <div class="card-header" style="margin-bottom: 2rem;">
                <h2 class="card-title">Job History & Earnings</h2>
                <button id="back-to-dashboard-btn" class="btn btn-outline">Back to Dashboard</button>
            </div>
    
            <div class="job-grid" style="margin-bottom: 2rem;">
                <div class="card text-center">
                    <h4>Total Earnings</h4>
                    <p id="total-earnings" class="text-success" style="font-size: 2rem; font-weight: bold;">ZAR 0.00</p>
                </div>
                <div class="card text-center">
                    <h4>This Month</h4>
                    <p id="month-earnings" class="text-primary" style="font-size: 2rem; font-weight: bold;">ZAR 0.00</p>
                </div>
                <div class="card text-center">
                    <h4>This Year</h4>
                    <p id="year-earnings" class="text-primary" style="font-size: 2rem; font-weight: bold;">ZAR 0.00</p>
                </div>
            </div>
    
            <h3>Completed Job History</h3>
            <div id="history-job-list">
                <!-- Job history items will be rendered here -->
            </div>
        </div>
    </template>

    <template id="map-view-template">
        <div class="dashboard-header">
            <h2>Available Jobs Map</h2>
            <button id="list-view-btn" class="btn btn-outline">List View</button>
        </div>
        <div id="map" class="card"></div>
    </template>
    
    <!-- Modals -->
    <div id="post-job-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Post a New Job</h2>
                <button class="close-button">&times;</button>
            </div>
            <form id="post-job-form">
                <input type="hidden" id="job-id" />
                <div class="form-group">
                    <label for="job-title">Job Title</label>
                    <input type="text" id="job-title" class="form-control" required placeholder="e.g., Usher for Gala Event">
                </div>
                 <div class="form-group">
                    <label for="job-responsibilities">Responsibilities</label>
                    <textarea id="job-responsibilities" class="form-control" rows="3" required placeholder="e.g., Greet guests, check tickets..."></textarea>
                </div>
                <div class="form-group">
                    <label for="job-requirements">Requirements</label>
                    <textarea id="job-requirements" class="form-control" rows="2" placeholder="e.g., Black tie attire, own transport..."></textarea>
                </div>
                <div class="form-group">
                    <label for="job-briefing">Job Briefing / Checklist (Optional)</label>
                    <textarea id="job-briefing" class="form-control" rows="4" placeholder="e.g., Dress Code: All black. Report to Jane Doe at the main entrance. Be prepared for a fast-paced environment."></textarea>
                </div>
                 <div class="form-group">
                    <label for="job-contact-person">On-site Contact Person</label>
                    <input type="text" id="job-contact-person" class="form-control" placeholder="e.g., Jane Doe - 082 123 4567">
                </div>
                <div class="form-group">
                    <label for="job-category">Category (Skill Required)</label>
                    <select id="job-category" class="form-control" required>
                        <!-- Options populated by JS -->
                    </select>
                </div>
                <div id="rate-guide" class="card hidden" style="padding: 1rem; background-color: rgba(0,0,0,0.05);">
                    <!-- Rate guide will be displayed here -->
                </div>
                <div style="display: flex; gap: 1rem;">
                    <div class="form-group" style="flex-grow: 1;">
                        <label for="job-hourly-rate">Hourly Rate (ZAR per person)</label>
                        <input type="number" id="job-hourly-rate" class="form-control" required min="1">
                    </div>
                    <div class="form-group" style="width: 120px;">
                        <label for="job-positions"># of Staff</label>
                        <input type="number" id="job-positions" class="form-control" required min="1" value="1">
                    </div>
                </div>
                 <div class="form-group">
                    <label for="job-start-time">Event Start Date & Time</label>
                    <input type="datetime-local" id="job-start-time" class="form-control" required>
                </div>
                 <div class="form-group">
                    <label for="job-end-time">Event End Date & Time</label>
                    <input type="datetime-local" id="job-end-time" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="job-location-name">Area Name</label>
                    <input type="text" id="job-location-name" class="form-control" required placeholder="e.g., Sandton, Rosebank, etc.">
                </div>
                <div class="form-group">
                    <label for="job-radius">Search Radius (km)</label>
                    <input type="number" id="job-radius" class="form-control" required value="15">
                </div>
                <div id="fee-calculation" class="card" style="margin-top: 1rem; background-color: rgba(0,0,0,0.05);">
                    <!-- Fee calculation will be displayed here -->
                </div>
                <button type="submit" id="save-job-btn" class="btn btn-primary btn-block">Post Job & Escrow Funds</button>
            </form>
        </div>
    </div>

    <div id="view-applicants-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Job Applicants</h2>
                <button class="close-button">&times;</button>
            </div>
            <div id="applicants-list-container">
                <!-- Applicant list will be rendered here -->
            </div>
        </div>
    </div>

    <div id="job-details-modal" class="modal hidden">
        <div class="modal-content">
             <div class="modal-header">
                <h2 class="modal-title">Job Details</h2>
                <button class="close-button">&times;</button>
            </div>
            <div id="job-details-content"></div>
        </div>
    </div>

    <div id="rate-freelancer-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Rate Freelancer</h2>
                <button class="close-button">&times;</button>
            </div>
            <form id="rate-freelancer-form">
                <input type="hidden" id="rate-job-id">
                <input type="hidden" id="rate-freelancer-id">
                <div class="form-group text-center">
                    <label>Rating</label>
                    <div class="rating-stars" data-rating="0">
                        <span class="star" data-value="1">&#9733;</span>
                        <span class="star" data-value="2">&#9733;</span>
                        <span class="star" data-value="3">&#9733;</span>
                        <span class="star" data-value="4">&#9733;</span>
                        <span class="star" data-value="5">&#9733;</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="review-text">Review</label>
                    <textarea id="review-text" class="form-control" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Submit Review</button>
            </form>
        </div>
    </div>

    <div id="rate-organizer-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Rate Organizer</h2>
                <button class="close-button">&times;</button>
            </div>
            <form id="rate-organizer-form">
                <input type="hidden" id="rate-organizer-job-id">
                <input type="hidden" id="rate-organizer-id">
                <div class="form-group text-center">
                    <label>Rating</label>
                    <div class="rating-stars" data-rating="0">
                        <span class="star" data-value="1">&#9733;</span>
                        <span class="star" data-value="2">&#9733;</span>
                        <span class="star" data-value="3">&#9733;</span>
                        <span class="star" data-value="4">&#9733;</span>
                        <span class="star" data-value="5">&#9733;</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="organizer-review-text">Review</label>
                    <textarea id="organizer-review-text" class="form-control" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Submit Review</button>
            </form>
        </div>
    </div>

    <div id="report-issue-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Report an Issue</h2>
                <button class="close-button">&times;</button>
            </div>
            <form id="report-issue-form">
                <input type="hidden" id="report-job-id">
                <p class="text-muted">Please describe the issue you experienced with this job. An admin will review your report.</p>
                <div class="form-group">
                    <label for="issue-text">Issue Description</label>
                    <textarea id="issue-text" class="form-control" rows="4" required></textarea>
                </div>
                <button type="submit" class="btn btn-danger btn-block">Submit Report</button>
            </form>
        </div>
    </div>

    <div id="edit-profile-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Edit Profile</h2>
                <button class="close-button">&times;</button>
            </div>
            <form id="edit-profile-form">
                <div class="form-group">
                    <label for="profile-displayName">Display Name</label>
                    <input type="text" id="profile-displayName" class="form-control" required>
                </div>
                 <div class="form-group">
                    <label for="profile-bio">Bio</label>
                    <textarea id="profile-bio" class="form-control" rows="3" placeholder="Tell organizers a bit about yourself..."></textarea>
                </div>
                <div class="form-group">
                    <label for="profile-photo">Profile Photo</label>
                    <input type="file" id="profile-photo" class="form-control" accept="image/*">
                    <img id="profile-photo-preview" src="" alt="Photo Preview" class="hidden" style="max-width: 100px; margin-top: 10px; border-radius: 50%;">
                </div>
                <div id="freelancer-fields">
                    <div id="reliability-score-section" class="card" style="padding: 1rem; text-align: center;">
                        <!-- Reliability score details here -->
                    </div>
                    <div id="referral-code-section" class="card" style="padding: 1rem; text-align: center;">
                        <!-- Referral code details here -->
                    </div>
                    <div class="form-group">
                        <label>Skills</label>
                        <div id="profile-skills-checklist">
                            <!-- Skills checkboxes will be populated by JS -->
                        </div>
                    </div>
                    <hr style="margin: 1rem 0;">
                    <div class="form-group">
                        <label>My Documents & Verification</label>
                        <div id="documents-list" style="margin-bottom: 1rem;"></div>
                        <form id="add-document-form" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <input type="text" id="document-name" class="form-control" placeholder="Document Name (e.g. ID Document)" required style="flex-grow: 1;">
                            <input type="file" id="document-file" class="form-control" required style="flex-grow: 1;">
                            <button type="submit" class="btn btn-secondary">Add</button>
                        </form>
                    </div>
                     <div class="form-group">
                        <label>Premium Background Check</label>
                         <div id="background-check-status" class="card" style="padding: 1rem;">
                             <!-- Background check status will be shown here -->
                         </div>
                    </div>
                    <hr style="margin: 1rem 0;">
                    <div class="form-group">
                        <label>My Portfolio</label>
                        <div id="portfolio-grid" style="margin-bottom: 1rem;"></div>
                        <form id="add-portfolio-form" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <input type="text" id="portfolio-title" class="form-control" placeholder="Image Title" required style="flex-grow: 1;">
                            <input type="file" id="portfolio-file" class="form-control" required accept="image/*" style="flex-grow: 1;">
                            <button type="submit" class="btn btn-secondary">Add</button>
                        </form>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Save Changes</button>
            </form>
        </div>
    </div>
    
    <div id="set-location-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Set Your Location</h2>
                <button class="close-button">&times;</button>
            </div>
            <p class="text-muted">For accurate job matching, please provide your current location.</p>
            <button id="auto-detect-location-btn" class="btn btn-primary btn-block">Use My Current Location</button>
            <hr style="margin: 1rem 0;">
            <p class="text-center">Or enter an area name manually:</p>
            <form id="manual-location-form">
                 <div class="form-group">
                    <label for="manual-area-name">Area Name</label>
                    <input type="text" id="manual-area-name" class="form-control" required placeholder="e.g., Sandton">
                </div>
                <button type="submit" class="btn btn-secondary btn-block">Save Manual Location</button>
            </form>
        </div>
    </div>

    <div id="wallet-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">My Wallet</h2>
                <button class="close-button">&times;</button>
            </div>
            <h3>Current Balance: <span id="modal-wallet-balance" class="text-success"></span></h3>
            <div id="load-funds-section" class="hidden">
                <!-- Load funds UI will be injected here by JS -->
            </div>
            <div id="payout-funds-section" class="hidden">
                <hr style="margin: 1rem 0;">
                <h4>Request Payout</h4>
                <form id="payout-funds-form">
                     <div id="banking-details-group">
                         <!-- Banking details fields will be injected here if needed -->
                    </div>
                    <div class="form-group">
                        <label for="payout-amount">Amount (ZAR)</label>
                        <input type="number" id="payout-amount" class="form-control" min="50" required>
                    </div>
                    <button type="submit" class="btn btn-success btn-block">Request Payout</button>
                </form>
            </div>
        </div>
    </div>

    <div id="chat-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="chat-title">Chat</h2>
                <button class="close-button">&times;</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be rendered here -->
            </div>
            <form id="chat-form">
                <input type="text" id="chat-message-input" class="form-control" placeholder="Type a message..." required>
                <button type="submit" class="btn btn-primary">Send</button>
            </form>
        </div>
    </div>

    <div id="briefing-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="briefing-title">Job Briefing</h2>
                <button class="close-button">&times;</button>
            </div>
            <div id="briefing-content" style="white-space: pre-wrap; background-color: rgba(0,0,0,0.05); padding: 1rem; border-radius: var(--border-radius); margin-bottom: 1.5rem;"></div>
            <button id="acknowledge-briefing-btn" class="btn btn-success btn-block">I Acknowledge and Understand</button>
        </div>
    </div>

    <div id="check-in-modal" class="modal hidden">
        <div class="modal-content text-center">
            <div class="modal-header">
                <h2 class="modal-title">Job Check-in</h2>
                 <button class="close-button">&times;</button>
            </div>
            <p>Show this QR code to the event organizer to check in.</p>
            <div id="qr-code-placeholder" style="width: 200px; height: 200px; margin: 1rem auto; background: #eee; display: flex; align-items: center; justify-content: center; border-radius: var(--border-radius);">
                [QR Code]
            </div>
        </div>
    </div>

    <!-- NEW: Cancellation Policy Modal -->
    <div id="cancellation-policy-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Cancellation Policy</h2>
                <button class="close-button">&times;</button>
            </div>
            <h4>For Freelancers (Workers)</h4>
            <p class="text-muted">Cancelling a job you have been assigned to has consequences:</p>
            <ul>
                <li>A <strong>25% penalty fee</strong> (based on the total job value) will be deducted from your wallet.</li>
                <li>Your <strong>Reliability Score</strong> will be significantly impacted.</li>
            </ul>
            <hr style="margin: 1rem 0;">
            <h4>For Clients (Organizers)</h4>
            <p class="text-muted">Cancelling a job after hiring freelancers has consequences:</p>
            <ul>
                <li>You must pay a <strong>50% cancellation fee</strong> of the total job value to each hired freelancer to compensate them for their commitment.</li>
                <li>This amount will be deducted from your wallet and transferred directly to the freelancers.</li>
            </ul>
        </div>
    </div>

    <!-- NEW: Generic Confirmation Modal -->
    <div id="confirmation-modal" class="modal hidden">
        <div class="modal-content text-center">
            <h2 class="modal-title" id="confirmation-title">Are you sure?</h2>
            <p id="confirmation-message" style="margin: 1rem 0;"></p>
            <div style="display: flex; justify-content: center; gap: 1rem;">
                <button id="confirm-action-btn" class="btn btn-danger">Confirm</button>
                <button id="cancel-action-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- NEW: Dispute Resolution Modal -->
    <div id="dispute-resolution-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">Resolve Dispute</h2>
                <button class="close-button">&times;</button>
            </div>
            <div id="dispute-details-content">
                <!-- Dispute details will be rendered here by JS -->
            </div>
        </div>
    </div>

    <!-- NEW: Portfolio View Modal -->
    <div id="portfolio-view-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2 class="modal-title" id="portfolio-view-title">Portfolio</h2>
                <button class="close-button">&times;</button>
            </div>
            <div id="portfolio-view-content">
                <!-- Portfolio items will be rendered here -->
            </div>
        </div>
    </div>


    <!-- Leaflet JS for Map View -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Link to your new external JS file -->
    <script type="module" src="app.js"></script>
</body>
</html>
